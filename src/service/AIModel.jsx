import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotelOptions": [\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$$",\n      "hotelImageUrl": "https://www.thedlv.com/media/images/hero_images/the_d_hero_wide.jpg",\n      "geoCoordinates": "36.1699, -115.1423",\n      "rating": 4.0,\n      "description": "A retro-themed casino hotel on Fremont Street with a lively atmosphere, affordable rates, and a rooftop pool."\n    },\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": "$$",\n      "hotelImageUrl": "https://www.circuscircus.com/media/images/hero_images/circus_circus_hero_wide.jpg",\n      "geoCoordinates": "36.1221, -115.1719",\n      "rating": 3.5,\n      "description": "A classic Las Vegas hotel with a carnival theme, featuring a midway with rides and games, and family-friendly accommodations."\n    },\n    {\n      "hotelName": "Golden Nugget Hotel & Casino",\n      "hotelAddress": "129 E Fremont St, Las Vegas, NV 89101",\n      "price": "$$$",\n      "hotelImageUrl": "https://www.goldennugget.com/las-vegas/media/images/hero_images/golden_nugget_hero_wide.jpg",\n      "geoCoordinates": "36.1698, -115.1418",\n      "rating": 4.5,\n      "description": "A luxurious hotel on Fremont Street with a stylish atmosphere, a shark tank, and a variety of dining and entertainment options."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "theme": "Fremont Street Experience",\n      "activities": [\n        {\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "Explore the pedestrianized Fremont Street, featuring a vibrant canopy of lights, street performers, and a variety of shops and restaurants.",\n          "placeImageUrl": "https://www.fremontstreetexperience.com/sites/default/files/styles/slideshow_large/public/2019-04/FREMONT-STREET-EXPERIENCE-LAS-VEGAS-608x300.jpg?itok=yU0tZ35B",\n          "geoCoordinates": "36.1697, -115.1423",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "time": "Morning to Evening"\n        },\n        {\n          "placeName": "Four Queens Casino",\n          "placeDetails": "Enjoy a classic casino experience at the Four Queens, known for its retro charm and popular slots.",\n          "placeImageUrl": "https://www.fourqueens.com/media/images/hero_images/four_queens_hero_wide.jpg",\n          "geoCoordinates": "36.1698, -115.1421",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "time": "Afternoon"\n        },\n        {\n          "placeName": "Binion\'s Gambling Hall",\n          "placeDetails": "Experience the legendary Binion\'s, where you can find a variety of games, including poker, blackjack, and craps.",\n          "placeImageUrl": "https://www.binions.com/media/images/hero_images/binions_hero_wide.jpg",\n          "geoCoordinates": "36.1698, -115.1416",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "time": "Evening"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "theme": "Free Activities and Strip Exploration",\n      "activities": [\n        {\n          "placeName": "The Bellagio Conservatory & Botanical Garden",\n          "placeDetails": "Admire stunning floral displays and seasonal themes in the Bellagio\'s world-renowned botanical garden.",\n          "placeImageUrl": "https://www.bellagio.com/content/dam/bellagio/images/hero_images/bellagio_hero_wide.jpg",\n          "geoCoordinates": "36.1154, -115.1724",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "time": "Morning"\n        },\n        {\n          "placeName": "The Fountains of Bellagio",\n          "placeDetails": "Witness a mesmerizing water and music show featuring synchronized fountains and lights.",\n          "placeImageUrl": "https://www.bellagio.com/content/dam/bellagio/images/hero_images/fountains_hero_wide.jpg",\n          "geoCoordinates": "36.1154, -115.1724",\n          "ticketPricing": "Free",\n          "rating": 5.0,\n          "time": "Afternoon"\n        },\n        {\n          "placeName": "The Venetian & The Palazzo",\n          "placeDetails": "Take a stroll through the Grand Canal Shoppes and enjoy a gondola ride, offering a romantic experience.",\n          "placeImageUrl": "https://www.venetian.com/content/dam/venetian/images/hero_images/venetian_hero_wide.jpg",\n          "geoCoordinates": "36.1154, -115.1747",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "time": "Evening"\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "theme": "Historical and Cultural Exploration",\n      "activities": [\n        {\n          "placeName": "Neon Museum",\n          "placeDetails": "Discover the history of Las Vegas through a collection of iconic neon signs.",\n          "placeImageUrl": "https://www.neonmuseum.org/sites/default/files/styles/hero_image/public/2019-04/IMG_20190419_161728_0000.jpg?itok=n3c3W6oK",\n          "geoCoordinates": "36.1765, -115.1486",\n          "ticketPricing": "$$",\n          "rating": 4.5,\n          "time": "Morning"\n        },\n        {\n          "placeName": "Mob Museum",\n          "placeDetails": "Learn about the history of organized crime in Las Vegas and its impact on the city\'s development.",\n          "placeImageUrl": "https://www.themobmuseum.org/media/images/hero_images/mob_museum_hero_wide.jpg",\n          "geoCoordinates": "36.1697, -115.1418",\n          "ticketPricing": "$$",\n          "rating": 4.0,\n          "time": "Afternoon"\n        },\n        {\n          "placeName": "Las Vegas Strip",\n          "placeDetails": "Enjoy a final walk down the Las Vegas Strip, taking in the vibrant atmosphere and iconic landmarks.",\n          "placeImageUrl": "https://www.visitlasvegas.com/media/images/hero_images/las_vegas_hero_wide.jpg",\n          "geoCoordinates": "36.1146, -115.1728",\n          "ticketPricing": "Free",\n          "rating": 5.0,\n          "time": "Evening"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* **Prices:** The "$$" and "$$$\' ratings are subjective and represent a general price range. It\'s always best to check specific prices for the dates of your trip.\n* **Free Activities:** There are many free activities in Las Vegas, including strolling the Strip, enjoying the Bellagio Fountains, and exploring the casinos.\n* **Budget-Friendly Dining:** Consider eating at buffets, food courts, and casual restaurants to save money.\n* **Transportation:** Consider using public transportation or ride-sharing services to minimize transportation costs.\n\nThis itinerary is just a suggestion, and you can customize it based on your interests and preferences. Remember to check opening hours and ticket prices before you go. Have a great time in Las Vegas!',
        },
      ],
    },
  ],
});
